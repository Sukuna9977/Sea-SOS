"use strict";(self.webpackChunkseasos=self.webpackChunkseasos||[]).push([[657],{7411:function(e,r,n){var a=n(1243),o=n(8830),t=a.Z.create({baseURL:o.Z.BACKEND_URL});t.interceptors.request.use((function(e){var r=localStorage.getItem("token");return r&&(e.headers.Authorization="Bearer ".concat(r)),e}),(function(e){return Promise.reject(e)})),r.Z=t},8748:function(e,r,n){n.d(r,{OT:function(){return d},Xf:function(){return u},j3:function(){return c},zB:function(){return i}});var a=n(4165),o=n(5861),t=n(7411),s=n(4597),l=n(8830),i=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(r,n){var o,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.Z.post("".concat(l.Z.BACKEND_URL,"/api/auth/login"),{email:r,password:n});case 3:if(o=e.sent,!(i=o.data.token)){e.next=10;break}localStorage.setItem("token",i),sessionStorage.setItem("token",i),e.next=11;break;case 10:throw new Error("Token not found in response");case 11:return e.abrupt("return",o.data);case 14:throw e.prev=14,e.t0=e.catch(0),console.error("Error signing in:",e.t0),(0,s.sD)("Error signing in"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(r,n){return e.apply(this,arguments)}}(),c=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(r,n){var o,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o={fullname:r.fullname,email:r.email,password:r.password,gender:r.gender,phone:r.phone,address:r.address},e.prev=1,"create"!==n){e.next=8;break}return e.next=5,t.Z.post("/api/users/create",o);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,t.Z.put("/api/users/update/".concat(r._id),o,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}},{fullname:r.fullname,gender:r.gender,phone:r.phone,address:r.address});case 10:e.t0=e.sent;case 11:l=e.t0,(0,s.Vp)(l.data.message),e.next=18;break;case 15:e.prev=15,e.t1=e.catch(1),(0,s.sD)(e.t1.response.data.message);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(r,n){return e.apply(this,arguments)}}(),d=function(e){t.Z.post(l.Z.BACKEND_URL+"/api/resetpwd/send",{email:e.target.email.value}).then((function(e){return(0,s.Vp)("We've sent an email, please open your inbox.")})).catch((function(e){return(0,s.sD)(e.response.data.message)}))},u=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(r,n){var o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Z.post(l.Z.BACKEND_URL+"/api/resetpwd",{newPassword:r.target.password.value,token:n});case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()},2657:function(e,r,n){n.r(r);var a=n(4165),o=n(5861),t=n(4942),s=n(1413),l=n(9439),i=n(2791),c=n(5316),d=n(2592),u=n(4292),p=n(717),m=n(3360),f=n(8160),h=n(8748),Z=n(184);r.default=function(e){var r=e.refresh,n=e.handleClose,v=e.show,x=e.mode,b=e.userToEdit,g=(0,i.useState)({_id:"",fullname:"",email:"",password:"",gender:"",address:"",phone:""}),w=(0,l.Z)(g,2),N=w[0],j=w[1];(0,i.useEffect)((function(){j(b||{_id:"",fullname:"",email:"",password:"",gender:"",address:"",phone:""})}),[b]);var y=function(e){var r=e.target,n=r.name,a=r.value;j((function(e){return(0,s.Z)((0,s.Z)({},e),{},(0,t.Z)({},n,a))}))},E=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(o){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.preventDefault(),e.prev=1,e.next=4,(0,h.j3)(N,x);case 4:n(),r(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error submitting user:",e.t0),alert("Failed to submit user. Check the console for details.");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}();return(0,Z.jsx)(c.Z,{show:v,onHide:n,centered:!0,backdrop:"static",keyboard:!1,size:"lg",children:(0,Z.jsxs)("form",{onSubmit:E,children:[(0,Z.jsx)(c.Z.Header,{closeButton:!0,children:(0,Z.jsx)(c.Z.Title,{children:"create"===x?"Add New User":"Edit User"})}),(0,Z.jsx)(c.Z.Body,{children:(0,Z.jsxs)("div",{className:"new-user-info",children:[(0,Z.jsxs)("div",{className:"row",children:[(0,Z.jsx)("div",{className:"profile-img-edit position-relative col-md-2 mb-4",children:(0,Z.jsx)(d.Z,{className:"lazyload theme-color-yellow-img profile-pic rounded avatar-100",src:f,alt:"profile-pic"})}),(0,Z.jsx)(u.Z,{type:"hidden",name:"_id",value:N._id,readOnly:!0}),(0,Z.jsxs)(p.Z.Group,{className:"col-md-10 form-group",children:[(0,Z.jsx)(p.Z.Label,{htmlFor:"fullname",children:"Full Name:"}),(0,Z.jsx)(p.Z.Control,{value:N.fullname,onChange:y,type:"text",id:"fullname",name:"fullname",placeholder:"Full Name",required:!0})]}),(0,Z.jsxs)(p.Z.Group,{className:"col-md-6 form-group",children:[(0,Z.jsx)(p.Z.Label,{htmlFor:"address",children:"Address:"}),(0,Z.jsx)(p.Z.Control,{value:N.address,onChange:y,type:"text",name:"address",id:"address",placeholder:"Address",required:!0})]}),(0,Z.jsxs)(p.Z.Group,{className:"col-md-6 form-group",children:[(0,Z.jsx)(p.Z.Label,{htmlFor:"phone",children:"Mobile Number:"}),(0,Z.jsx)(p.Z.Control,{value:N.phone,onChange:y,type:"tel",name:"phone",id:"phone",placeholder:"Mobile Number",required:!0})]}),(0,Z.jsxs)(p.Z.Group,{className:"col-sm-12 form-group",children:[(0,Z.jsx)(p.Z.Label,{children:"Gender:"}),(0,Z.jsxs)(p.Z.Control,{as:"select",name:"gender",value:N.gender,onChange:y,required:!0,children:[(0,Z.jsx)("option",{value:"",children:"Select gender"}),(0,Z.jsx)("option",{value:"MALE",children:"Male"}),(0,Z.jsx)("option",{value:"FEMALE",children:"Female"})]})]})]}),"create"===x&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("hr",{}),(0,Z.jsx)("h5",{className:"mb-3",children:"Security"}),(0,Z.jsxs)("div",{className:"row",children:[(0,Z.jsxs)(p.Z.Group,{className:"col-md-12 form-group",children:[(0,Z.jsx)(p.Z.Label,{htmlFor:"email",children:"Email:"}),(0,Z.jsx)(p.Z.Control,{value:N.email,onChange:y,type:"email",name:"email",id:"email",placeholder:"Email",required:!0})]}),(0,Z.jsxs)(p.Z.Group,{className:"col-md-6 form-group",children:[(0,Z.jsx)(p.Z.Label,{htmlFor:"password",children:"Password:"}),(0,Z.jsx)(p.Z.Control,{value:N.password,onChange:y,type:"password",name:"password",id:"password",placeholder:"Password",required:!0})]}),(0,Z.jsxs)(p.Z.Group,{className:"col-md-6 form-group",children:[(0,Z.jsx)(p.Z.Label,{htmlFor:"rpass",children:"Repeat Password:"}),(0,Z.jsx)(p.Z.Control,{type:"password",id:"rpass",placeholder:"Repeat Password",required:!0})]})]})]})]})}),(0,Z.jsxs)(c.Z.Footer,{children:[(0,Z.jsx)(m.Z,{type:"submit",variant:"primary",children:"create"===x?"Add New User":"Edit User"}),(0,Z.jsx)(m.Z,{type:"button",onClick:n,variant:"secondary",children:"Close"})]})]})})}},2592:function(e,r,n){var a=n(1413),o=n(5987),t=n(1694),s=n.n(t),l=n(2791),i=n(2007),c=n.n(i),d=n(162),u=n(184),p=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],m=(c().string,c().bool,c().bool,c().bool,c().bool,l.forwardRef((function(e,r){var n=e.bsPrefix,t=e.className,l=e.fluid,i=void 0!==l&&l,c=e.rounded,m=void 0!==c&&c,f=e.roundedCircle,h=void 0!==f&&f,Z=e.thumbnail,v=void 0!==Z&&Z,x=(0,o.Z)(e,p);return n=(0,d.vE)(n,"img"),(0,u.jsx)("img",(0,a.Z)((0,a.Z)({ref:r},x),{},{className:s()(t,i&&"".concat(n,"-fluid"),m&&"rounded",h&&"rounded-circle",v&&"".concat(n,"-thumbnail"))}))})));m.displayName="Image",r.Z=m},5316:function(e,r,n){n.d(r,{Z:function(){return I}});var a,o=n(9439),t=n(5987),s=n(1413),l=n(1694),i=n.n(l),c=n(3070),d=n(7357),u=n(8376),p=n(6382);function m(e){if((!a&&0!==a||e)&&d.Z){var r=document.createElement("div");r.style.position="absolute",r.style.top="-9999px",r.style.width="50px",r.style.height="50px",r.style.overflow="scroll",document.body.appendChild(r),a=r.offsetWidth-r.clientWidth,document.body.removeChild(r)}return a}var f=n(8633),h=n(9007),Z=n(3201),v=n(1683),x=n(3690),b=n(2791),g=n(2121),w=n(5592),N=n(2709),j=n(6543),y=(0,j.Z)("modal-body"),E=n(9820),C=n(162),k=n(184),F=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],R=b.forwardRef((function(e,r){var n=e.bsPrefix,a=e.className,o=e.contentClassName,l=e.centered,c=e.size,d=e.fullscreen,u=e.children,p=e.scrollable,m=(0,t.Z)(e,F);n=(0,C.vE)(n,"modal");var f="".concat(n,"-dialog"),h="string"===typeof d?"".concat(n,"-fullscreen-").concat(d):"".concat(n,"-fullscreen");return(0,k.jsx)("div",(0,s.Z)((0,s.Z)({},m),{},{ref:r,className:i()(f,a,c&&"".concat(n,"-").concat(c),l&&"".concat(f,"-centered"),p&&"".concat(f,"-scrollable"),d&&h),children:(0,k.jsx)("div",{className:i()("".concat(n,"-content"),o),children:u})}))}));R.displayName="ModalDialog";var D=R,L=(0,j.Z)("modal-footer"),A=n(8024),P=["bsPrefix","className","closeLabel","closeButton"],S=b.forwardRef((function(e,r){var n=e.bsPrefix,a=e.className,o=e.closeLabel,l=void 0===o?"Close":o,c=e.closeButton,d=void 0!==c&&c,u=(0,t.Z)(e,P);return n=(0,C.vE)(n,"modal-header"),(0,k.jsx)(A.Z,(0,s.Z)((0,s.Z)({ref:r},u),{},{className:i()(a,n),closeLabel:l,closeButton:d}))}));S.displayName="ModalHeader";var T=S,B=(0,n(7472).Z)("h4"),_=(0,j.Z)("modal-title",{Component:B}),U=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function M(e){return(0,k.jsx)(N.Z,(0,s.Z)((0,s.Z)({},e),{},{timeout:null}))}function O(e){return(0,k.jsx)(N.Z,(0,s.Z)((0,s.Z)({},e),{},{timeout:null}))}var H=b.forwardRef((function(e,r){var n=e.bsPrefix,a=e.className,l=e.style,N=e.dialogClassName,j=e.contentClassName,y=e.children,F=e.dialogAs,R=void 0===F?D:F,L=e["aria-labelledby"],A=e["aria-describedby"],P=e["aria-label"],S=e.show,T=void 0!==S&&S,B=e.animation,_=void 0===B||B,H=e.backdrop,I=void 0===H||H,z=e.keyboard,q=void 0===z||z,G=e.onEscapeKeyDown,K=e.onShow,W=e.onHide,V=e.container,X=e.autoFocus,J=void 0===X||X,Q=e.enforceFocus,Y=void 0===Q||Q,$=e.restoreFocus,ee=void 0===$||$,re=e.restoreFocusOptions,ne=e.onEntered,ae=e.onExit,oe=e.onExiting,te=e.onEnter,se=e.onEntering,le=e.onExited,ie=e.backdropClassName,ce=e.manager,de=(0,t.Z)(e,U),ue=(0,b.useState)({}),pe=(0,o.Z)(ue,2),me=pe[0],fe=pe[1],he=(0,b.useState)(!1),Ze=(0,o.Z)(he,2),ve=Ze[0],xe=Ze[1],be=(0,b.useRef)(!1),ge=(0,b.useRef)(!1),we=(0,b.useRef)(null),Ne=(0,f.Z)(),je=(0,o.Z)(Ne,2),ye=je[0],Ee=je[1],Ce=(0,Z.Z)(r,Ee),ke=(0,h.Z)(W),Fe=(0,C.SC)();n=(0,C.vE)(n,"modal");var Re=(0,b.useMemo)((function(){return{onHide:ke}}),[ke]);function De(){return ce||(0,w.t)({isRTL:Fe})}function Le(e){if(d.Z){var r=De().getScrollbarWidth()>0,n=e.scrollHeight>(0,u.Z)(e).documentElement.clientHeight;fe({paddingRight:r&&!n?m():void 0,paddingLeft:!r&&n?m():void 0})}}var Ae=(0,h.Z)((function(){ye&&Le(ye.dialog)}));(0,v.Z)((function(){(0,p.Z)(window,"resize",Ae),null==we.current||we.current()}));var Pe=function(){be.current=!0},Se=function(e){be.current&&ye&&e.target===ye.dialog&&(ge.current=!0),be.current=!1},Te=function(){xe(!0),we.current=(0,x.Z)(ye.dialog,(function(){xe(!1)}))},Be=function(e){"static"!==I?ge.current||e.target!==e.currentTarget?ge.current=!1:null==W||W():function(e){e.target===e.currentTarget&&Te()}(e)},_e=(0,b.useCallback)((function(e){return(0,k.jsx)("div",(0,s.Z)((0,s.Z)({},e),{},{className:i()("".concat(n,"-backdrop"),ie,!_&&"show")}))}),[_,ie,n]),Ue=(0,s.Z)((0,s.Z)({},l),me);Ue.display="block";return(0,k.jsx)(E.Z.Provider,{value:Re,children:(0,k.jsx)(g.Z,{show:T,ref:Ce,backdrop:I,container:V,keyboard:!0,autoFocus:J,enforceFocus:Y,restoreFocus:ee,restoreFocusOptions:re,onEscapeKeyDown:function(e){q?null==G||G(e):(e.preventDefault(),"static"===I&&Te())},onShow:K,onHide:W,onEnter:function(e,r){e&&Le(e),null==te||te(e,r)},onEntering:function(e,r){null==se||se(e,r),(0,c.ZP)(window,"resize",Ae)},onEntered:ne,onExit:function(e){null==we.current||we.current(),null==ae||ae(e)},onExiting:oe,onExited:function(e){e&&(e.style.display=""),null==le||le(e),(0,p.Z)(window,"resize",Ae)},manager:De(),transition:_?M:void 0,backdropTransition:_?O:void 0,renderBackdrop:_e,renderDialog:function(e){return(0,k.jsx)("div",(0,s.Z)((0,s.Z)({role:"dialog"},e),{},{style:Ue,className:i()(a,n,ve&&"".concat(n,"-static"),!_&&"show"),onClick:I?Be:void 0,onMouseUp:Se,"aria-label":P,"aria-labelledby":L,"aria-describedby":A,children:(0,k.jsx)(R,(0,s.Z)((0,s.Z)({},de),{},{onMouseDown:Pe,className:N,contentClassName:j,children:y}))}))}})})}));H.displayName="Modal";var I=Object.assign(H,{Body:y,Header:T,Title:_,Footer:L,Dialog:D,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},8160:function(e,r,n){e.exports=n.p+"static/media/avtar_5.0b2f30d78064e3e4c6f0.webp"}}]);
//# sourceMappingURL=657.3314a233.chunk.js.map