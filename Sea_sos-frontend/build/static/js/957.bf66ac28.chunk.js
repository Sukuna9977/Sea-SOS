"use strict";(self.webpackChunkseasos=self.webpackChunkseasos||[]).push([[957],{7411:function(e,n,r){var a=r(1243),t=r(8830),s=a.Z.create({baseURL:t.Z.BACKEND_URL});s.interceptors.request.use((function(e){var n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer ".concat(n)),e}),(function(e){return Promise.reject(e)})),n.Z=s},8619:function(e,n,r){r(2791);var a=r(184),t=function(e){return(0,a.jsxs)("div",{className:"card ".concat(e.className?e.className:""),children:[" ",e.children," "]})};t.Header=function(e){return(0,a.jsxs)("div",{className:"card-header d-flex justify-content-between ".concat(e.className?e.className:""),children:[" ",e.children," "]})},t.Body=function(e){return(0,a.jsxs)("div",{className:"card-body ".concat(e.className?e.className:""),children:[" ",e.children," "]})},t.Footer=function(e){return(0,a.jsxs)("div",{className:"card-footer",children:[" ",e.children," "]})},t.Header.Title=function(e){return(0,a.jsxs)("div",{className:"header-title ".concat(e.className?e.className:""),children:[" ",e.children," "]})},t.Header.Action=function(e){return(0,a.jsxs)("div",{className:"header-action ".concat(e.className?e.className:""),children:[" ",e.children," "]})},n.Z=t},9993:function(e,n,r){r.d(n,{Z:function(){return s}});r(2791);var a=r.p+"static/media/logo.f565e77a7af7c82fcd9c.webp",t=(r(2504),r(184)),s=function(e){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("img",{className:"lazyload",alt:"logo seasos",width:50,height:50,src:a})})}},4597:function(e,n,r){r.d(n,{Vp:function(){return u},j3:function(){return i},sD:function(){return l}});var a=r(4165),t=r(5861),s=r(1830),c=r.n(s),o=r(1237),i=function(e,n){c().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var r=(0,t.Z)((0,a.Z)().mark((function r(t){var s;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.isConfirmed){r.next=6;break}return r.next=3,(0,o.SR)(e);case 3:s=r.sent,n(),c().fire("Deleted!",s.message,"success");case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())},u=function(e){c().fire("Success !",e,"success")},l=function(e){c().fire("Error !",e,"error")}},8830:function(e,n){var r={BACKEND_URL:{NODE_ENV:"production",PUBLIC_URL:"/hope-ui/react/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL||"http://localhost:3030"};n.Z=r},1237:function(e,n,r){r.d(n,{SR:function(){return s},rQ:function(){return c}});var a=r(4165),t=r(5861),s=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{method:"DELETE"});case 2:return r=e.sent,e.next=5,r.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n){var r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return r=e.sent,e.next=5,r.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},8748:function(e,n,r){r.d(n,{OT:function(){return l},Xf:function(){return d},j3:function(){return u},zB:function(){return i}});var a=r(4165),t=r(5861),s=r(7411),c=r(4597),o=r(8830),i=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,r){var t,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post("".concat(o.Z.BACKEND_URL,"/api/auth/login"),{email:n,password:r});case 3:if(t=e.sent,!(i=t.data.token)){e.next=10;break}localStorage.setItem("token",i),sessionStorage.setItem("token",i),e.next=11;break;case 10:throw new Error("Token not found in response");case 11:return e.abrupt("return",t.data);case 14:throw e.prev=14,e.t0=e.catch(0),console.error("Error signing in:",e.t0),(0,c.sD)("Error signing in"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n,r){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,r){var t,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={fullname:n.fullname,email:n.email,password:n.password,gender:n.gender,phone:n.phone,address:n.address},e.prev=1,"create"!==r){e.next=8;break}return e.next=5,s.Z.post("/api/users/create",t);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,s.Z.put("/api/users/update/".concat(n._id),t,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}},{fullname:n.fullname,gender:n.gender,phone:n.phone,address:n.address});case 10:e.t0=e.sent;case 11:o=e.t0,(0,c.Vp)(o.data.message),e.next=18;break;case 15:e.prev=15,e.t1=e.catch(1),(0,c.sD)(e.t1.response.data.message);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(n,r){return e.apply(this,arguments)}}(),l=function(e){s.Z.post(o.Z.BACKEND_URL+"/api/resetpwd/send",{email:e.target.email.value}).then((function(e){return(0,c.Vp)("We've sent an email, please open your inbox.")})).catch((function(e){return(0,c.sD)(e.response.data.message)}))},d=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,r){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.post(o.Z.BACKEND_URL+"/api/resetpwd",{newPassword:n.target.password.value,token:r});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},6869:function(e,n,r){r.r(n);var a=r(4165),t=r(5861),s=(r(2791),r(9743)),c=r(2677),o=r(717),i=r(3360),u=r(7689),l=r(1087),d=r(8619),f=(r(8830),r(2504),r(9993)),p=r(8748),m=r(4597),h=r(184);n.default=function(){var e=(0,u.UO)().token,n=(0,u.s0)(),r=function(){var r=(0,t.Z)((0,a.Z)().mark((function r(t){var s;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),r.next=3,(0,p.Xf)(t,e);case 3:s=r.sent;try{"Password updated successfully!"===s.message?n("/auth/sign-in"):(0,m.sD)(s.message)}catch(a){console.log("error")}case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("section",{className:"login-content",children:(0,h.jsxs)(s.Z,{className:"m-0 align-items-center bg-white vh-100",children:[(0,h.jsx)(c.Z,{md:"6",className:"d-md-block d-none bg-primary p-0 mt-n1 vh-100 overflow-hidden",children:(0,h.jsx)("div",{className:"gradient-top",children:(0,h.jsx)("div",{className:"box",children:(0,h.jsx)("div",{className:"c xl-circle",children:(0,h.jsx)("div",{className:"c lg-circle",children:(0,h.jsx)("div",{className:"c md-circle",children:(0,h.jsx)("div",{className:"c sm-circle",children:(0,h.jsx)("div",{className:"c xs-circle"})})})})})})})}),(0,h.jsxs)(c.Z,{md:"6",className:"p-0",children:[(0,h.jsx)(d.Z,{className:"card-transparent auth-card shadow-none d-flex justify-content-center mb-0",children:(0,h.jsxs)(d.Z.Body,{children:[(0,h.jsxs)(l.rU,{to:"/",className:"navbar-brand d-flex align-items-center mb-3",children:[(0,h.jsx)(f.Z,{}),(0,h.jsx)("h4",{className:"logo-title ms-3",children:"SeaSOS"})]}),(0,h.jsx)("h2",{className:"mb-2",children:"Reset Password"}),(0,h.jsx)("p",{children:"Enter your new password."}),(0,h.jsxs)(o.Z,{onSubmit:r,children:[(0,h.jsx)(s.Z,{children:(0,h.jsx)(c.Z,{lg:"12",className:"col-lg-12",children:(0,h.jsxs)(o.Z.Group,{className:"floating-label",children:[(0,h.jsx)(o.Z.Label,{htmlFor:"email",className:"form-label",children:"New password"}),(0,h.jsx)(o.Z.Control,{required:!0,type:"password",className:"form-control",id:"password",name:"password","aria-describedby":"password",placeholder:" "})]})})}),(0,h.jsx)(i.Z,{className:"mt-3",type:"submit",variant:"primary",children:"Confirm"})]})]})}),(0,h.jsx)("div",{className:"sign-bg sign-bg-right"})]})]})})})}},2677:function(e,n,r){var a=r(9439),t=r(1413),s=r(5987),c=r(1694),o=r.n(c),i=r(2791),u=r(162),l=r(184),d=["as","bsPrefix","className"],f=["className"];var p=i.forwardRef((function(e,n){var r=function(e){var n=e.as,r=e.bsPrefix,a=e.className,c=(0,s.Z)(e,d);r=(0,u.vE)(r,"col");var i=(0,u.pi)(),l=(0,u.zG)(),f=[],p=[];return i.forEach((function(e){var n,a,t,s=c[e];delete c[e],"object"===typeof s&&null!=s?(n=s.span,a=s.offset,t=s.order):n=s;var o=e!==l?"-".concat(e):"";n&&f.push(!0===n?"".concat(r).concat(o):"".concat(r).concat(o,"-").concat(n)),null!=t&&p.push("order".concat(o,"-").concat(t)),null!=a&&p.push("offset".concat(o,"-").concat(a))})),[(0,t.Z)((0,t.Z)({},c),{},{className:o().apply(void 0,[a].concat(f,p))}),{as:n,bsPrefix:r,spans:f}]}(e),c=(0,a.Z)(r,2),i=c[0],p=i.className,m=(0,s.Z)(i,f),h=c[1],v=h.as,x=void 0===v?"div":v,Z=h.bsPrefix,N=h.spans;return(0,l.jsx)(x,(0,t.Z)((0,t.Z)({},m),{},{ref:n,className:o()(p,!N.length&&Z)}))}));p.displayName="Col",n.Z=p},9743:function(e,n,r){var a=r(1413),t=r(5987),s=r(1694),c=r.n(s),o=r(2791),i=r(162),u=r(184),l=["bsPrefix","className","as"],d=o.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,o=e.as,d=void 0===o?"div":o,f=(0,t.Z)(e,l),p=(0,i.vE)(r,"row"),m=(0,i.pi)(),h=(0,i.zG)(),v="".concat(p,"-cols"),x=[];return m.forEach((function(e){var n,r=f[e];delete f[e],n=null!=r&&"object"===typeof r?r.cols:r;var a=e!==h?"-".concat(e):"";null!=n&&x.push("".concat(v).concat(a,"-").concat(n))})),(0,u.jsx)(d,(0,a.Z)((0,a.Z)({ref:n},f),{},{className:c().apply(void 0,[s,p].concat(x))}))}));d.displayName="Row",n.Z=d}}]);
//# sourceMappingURL=957.bf66ac28.chunk.js.map