"use strict";(self.webpackChunkseasos=self.webpackChunkseasos||[]).push([[293],{7411:function(e,n,r){var t=r(1243),a=r(8830),s=t.Z.create({baseURL:a.Z.BACKEND_URL});s.interceptors.request.use((function(e){var n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer ".concat(n)),e}),(function(e){return Promise.reject(e)})),n.Z=s},8619:function(e,n,r){r(2791);var t=r(184),a=function(e){return(0,t.jsxs)("div",{className:"card ".concat(e.className?e.className:""),children:[" ",e.children," "]})};a.Header=function(e){return(0,t.jsxs)("div",{className:"card-header d-flex justify-content-between ".concat(e.className?e.className:""),children:[" ",e.children," "]})},a.Body=function(e){return(0,t.jsxs)("div",{className:"card-body ".concat(e.className?e.className:""),children:[" ",e.children," "]})},a.Footer=function(e){return(0,t.jsxs)("div",{className:"card-footer",children:[" ",e.children," "]})},a.Header.Title=function(e){return(0,t.jsxs)("div",{className:"header-title ".concat(e.className?e.className:""),children:[" ",e.children," "]})},a.Header.Action=function(e){return(0,t.jsxs)("div",{className:"header-action ".concat(e.className?e.className:""),children:[" ",e.children," "]})},n.Z=a},9993:function(e,n,r){r.d(n,{Z:function(){return s}});r(2791);var t=r.p+"static/media/logo.f565e77a7af7c82fcd9c.webp",a=(r(2504),r(184)),s=function(e){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("img",{className:"lazyload",alt:"logo seasos",width:50,height:50,src:t})})}},4597:function(e,n,r){r.d(n,{Vp:function(){return l},j3:function(){return i},sD:function(){return u}});var t=r(4165),a=r(5861),s=r(1830),c=r.n(s),o=r(1237),i=function(e,n){c().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var r=(0,a.Z)((0,t.Z)().mark((function r(a){var s;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!a.isConfirmed){r.next=6;break}return r.next=3,(0,o.SR)(e);case 3:s=r.sent,n(),c().fire("Deleted!",s.message,"success");case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())},l=function(e){c().fire("Success !",e,"success")},u=function(e){c().fire("Error !",e,"error")}},8830:function(e,n){var r={BACKEND_URL:{NODE_ENV:"production",PUBLIC_URL:"/hope-ui/react/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL||"http://localhost:3030"};n.Z=r},1237:function(e,n,r){r.d(n,{SR:function(){return s},rQ:function(){return c}});var t=r(4165),a=r(5861),s=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{method:"DELETE"});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},8748:function(e,n,r){r.d(n,{OT:function(){return u},Xf:function(){return d},j3:function(){return l},zB:function(){return i}});var t=r(4165),a=r(5861),s=r(7411),c=r(4597),o=r(8830),i=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.post("".concat(o.Z.BACKEND_URL,"/api/auth/login"),{email:n,password:r});case 3:if(a=e.sent,!(i=a.data.token)){e.next=10;break}localStorage.setItem("token",i),sessionStorage.setItem("token",i),e.next=11;break;case 10:throw new Error("Token not found in response");case 11:return e.abrupt("return",a.data);case 14:throw e.prev=14,e.t0=e.catch(0),console.error("Error signing in:",e.t0),(0,c.sD)("Error signing in"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n,r){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={fullname:n.fullname,email:n.email,password:n.password,gender:n.gender,phone:n.phone,address:n.address},e.prev=1,"create"!==r){e.next=8;break}return e.next=5,s.Z.post("/api/users/create",a);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,s.Z.put("/api/users/update/".concat(n._id),a,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}},{fullname:n.fullname,gender:n.gender,phone:n.phone,address:n.address});case 10:e.t0=e.sent;case 11:o=e.t0,(0,c.Vp)(o.data.message),e.next=18;break;case 15:e.prev=15,e.t1=e.catch(1),(0,c.sD)(e.t1.response.data.message);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(n,r){return e.apply(this,arguments)}}(),u=function(e){s.Z.post(o.Z.BACKEND_URL+"/api/resetpwd/send",{email:e.target.email.value}).then((function(e){return(0,c.Vp)("We've sent an email, please open your inbox.")})).catch((function(e){return(0,c.sD)(e.response.data.message)}))},d=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.post(o.Z.BACKEND_URL+"/api/resetpwd",{newPassword:n.target.password.value,token:r});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},9410:function(e,n,r){r.r(n);var t=r(4165),a=r(5861),s=r(9439),c=r(2791),o=r(9743),i=r(2677),l=r(717),u=r(3360),d=r(7689),f=r(1087),p=r(8619),m=r(8748),h=r(9993),x=r(4597),v=r(9434),Z=r(9850),N=(r(2504),r(184));n.default=function(){var e=(0,c.useState)({email:"",password:""}),n=(0,s.Z)(e,2),r=n[0],j=n[1],w=(0,v.I0)(),g=(0,d.s0)(),b=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,(0,m.zB)(n.target.email.value,n.target.password.value);case 4:r=e.sent,localStorage.setItem("token",r.token),w((0,Z.oJ)({isAuthenticated:!0,token:r.token})),g("/dashboard"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Login failed",e.t0),(0,x.sD)("Login failed, please try again");case 14:j({email:"",password:""});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("section",{className:"login-content",children:(0,N.jsxs)(o.Z,{className:"m-0 align-items-center bg-white vh-100",children:[(0,N.jsx)(i.Z,{md:"6",children:(0,N.jsx)(o.Z,{className:"justify-content-center",children:(0,N.jsx)(i.Z,{md:"10",children:(0,N.jsx)(p.Z,{className:"card-transparent shadow-none d-flex justify-content-center mb-0 auth-card",children:(0,N.jsxs)(p.Z.Body,{children:[(0,N.jsxs)(f.rU,{to:"/",className:"navbar-brand d-flex align-items-center mb-3",children:[(0,N.jsx)(h.Z,{}),(0,N.jsx)("h4",{className:"logo-title ms-3",children:"SeaSOS"})]}),(0,N.jsx)("h2",{className:"mb-2 text-center",children:"Sign In"}),(0,N.jsx)("p",{className:"text-center",children:"Login to stay connected."}),(0,N.jsxs)(l.Z,{onSubmit:b,children:[(0,N.jsxs)(o.Z,{children:[(0,N.jsx)(i.Z,{lg:"12",children:(0,N.jsxs)(l.Z.Group,{className:"form-group",children:[(0,N.jsx)(l.Z.Label,{htmlFor:"email",className:"",children:"Email"}),(0,N.jsx)(l.Z.Control,{type:"email",id:"email",name:"email",defaultValue:r.email,placeholder:"Enter your email"})]})}),(0,N.jsx)(i.Z,{lg:"12",className:"",children:(0,N.jsxs)(l.Z.Group,{className:"form-group",children:[(0,N.jsx)(l.Z.Label,{htmlFor:"password",className:"",children:"Password"}),(0,N.jsx)(l.Z.Control,{type:"password",id:"password",name:"password",defaultValue:r.password,placeholder:"Enter your password"})]})}),(0,N.jsx)(i.Z,{lg:"12",className:"d-flex justify-content-between",children:(0,N.jsx)(f.rU,{className:"mb-3",to:"/auth/reset-password",children:"Forgot Password?"})})]}),(0,N.jsx)("div",{className:"d-flex justify-content-center",children:(0,N.jsx)(u.Z,{type:"submit",variant:"btn btn-primary",children:"Sign In"})})]})]})})})})}),(0,N.jsx)(i.Z,{md:"6",className:"d-md-block d-none bg-primary p-0 mt-n1 vh-100 overflow-hidden",children:(0,N.jsx)("div",{className:"gradient-top",children:(0,N.jsx)("div",{className:"box",children:(0,N.jsx)("div",{className:"c xl-circle",children:(0,N.jsx)("div",{className:"c lg-circle",children:(0,N.jsx)("div",{className:"c md-circle",children:(0,N.jsx)("div",{className:"c sm-circle",children:(0,N.jsx)("div",{className:"c xs-circle"})})})})})})})})]})})})}},2677:function(e,n,r){var t=r(9439),a=r(1413),s=r(5987),c=r(1694),o=r.n(c),i=r(2791),l=r(162),u=r(184),d=["as","bsPrefix","className"],f=["className"];var p=i.forwardRef((function(e,n){var r=function(e){var n=e.as,r=e.bsPrefix,t=e.className,c=(0,s.Z)(e,d);r=(0,l.vE)(r,"col");var i=(0,l.pi)(),u=(0,l.zG)(),f=[],p=[];return i.forEach((function(e){var n,t,a,s=c[e];delete c[e],"object"===typeof s&&null!=s?(n=s.span,t=s.offset,a=s.order):n=s;var o=e!==u?"-".concat(e):"";n&&f.push(!0===n?"".concat(r).concat(o):"".concat(r).concat(o,"-").concat(n)),null!=a&&p.push("order".concat(o,"-").concat(a)),null!=t&&p.push("offset".concat(o,"-").concat(t))})),[(0,a.Z)((0,a.Z)({},c),{},{className:o().apply(void 0,[t].concat(f,p))}),{as:n,bsPrefix:r,spans:f}]}(e),c=(0,t.Z)(r,2),i=c[0],p=i.className,m=(0,s.Z)(i,f),h=c[1],x=h.as,v=void 0===x?"div":x,Z=h.bsPrefix,N=h.spans;return(0,u.jsx)(v,(0,a.Z)((0,a.Z)({},m),{},{ref:n,className:o()(p,!N.length&&Z)}))}));p.displayName="Col",n.Z=p},9743:function(e,n,r){var t=r(1413),a=r(5987),s=r(1694),c=r.n(s),o=r(2791),i=r(162),l=r(184),u=["bsPrefix","className","as"],d=o.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,o=e.as,d=void 0===o?"div":o,f=(0,a.Z)(e,u),p=(0,i.vE)(r,"row"),m=(0,i.pi)(),h=(0,i.zG)(),x="".concat(p,"-cols"),v=[];return m.forEach((function(e){var n,r=f[e];delete f[e],n=null!=r&&"object"===typeof r?r.cols:r;var t=e!==h?"-".concat(e):"";null!=n&&v.push("".concat(x).concat(t,"-").concat(n))})),(0,l.jsx)(d,(0,t.Z)((0,t.Z)({ref:n},f),{},{className:c().apply(void 0,[s,p].concat(v))}))}));d.displayName="Row",n.Z=d}}]);
//# sourceMappingURL=293.2de0a273.chunk.js.map