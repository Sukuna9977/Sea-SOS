"use strict";(self.webpackChunkseasos=self.webpackChunkseasos||[]).push([[293],{7411:(e,s,a)=>{a.d(s,{Z:()=>r});var c=a(1243),t=a(8830);const n=c.Z.create({baseURL:t.Z.BACKEND_URL});n.interceptors.request.use((e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e}),(e=>Promise.reject(e)));const r=n},8619:(e,s,a)=>{a.d(s,{Z:()=>n});a(2791);var c=a(184);const t=e=>(0,c.jsxs)("div",{className:"card ".concat(e.className?e.className:""),children:[" ",e.children," "]});t.Header=e=>(0,c.jsxs)("div",{className:"card-header d-flex justify-content-between ".concat(e.className?e.className:""),children:[" ",e.children," "]}),t.Body=e=>(0,c.jsxs)("div",{className:"card-body ".concat(e.className?e.className:""),children:[" ",e.children," "]}),t.Footer=e=>(0,c.jsxs)("div",{className:"card-footer",children:[" ",e.children," "]}),t.Header.Title=e=>(0,c.jsxs)("div",{className:"header-title ".concat(e.className?e.className:""),children:[" ",e.children," "]}),t.Header.Action=e=>(0,c.jsxs)("div",{className:"header-action ".concat(e.className?e.className:""),children:[" ",e.children," "]});const n=t},9993:(e,s,a)=>{a.d(s,{Z:()=>n});a(2791);const c=a.p+"static/media/logo.f565e77a7af7c82fcd9c.webp";a(2504);var t=a(184);const n=e=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("img",{className:"lazyload",alt:"logo seasos",width:50,height:50,src:c})})},4597:(e,s,a)=>{a.d(s,{Vp:()=>o,j3:()=>r,sD:()=>l});var c=a(1830),t=a.n(c),n=a(1237);const r=(e,s)=>{t().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async a=>{if(a.isConfirmed){const a=await(0,n.SR)(e);s(),t().fire("Deleted!",a.message,"success")}}))},o=e=>{t().fire("Success !",e,"success")},l=e=>{t().fire("Error !",e,"error")}},8830:(e,s,a)=>{a.d(s,{Z:()=>c});const c={BACKEND_URL:{NODE_ENV:"production",PUBLIC_URL:"/hope-ui/react/build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL||"http://localhost:3030"}},1237:(e,s,a)=>{a.d(s,{SR:()=>c,rQ:()=>t});const c=async e=>{const s=await fetch(e,{method:"DELETE"});return await s.json()},t=async e=>{const s=await fetch(e);return await s.json()}},8748:(e,s,a)=>{a.d(s,{OT:()=>l,Xf:()=>i,j3:()=>o,zB:()=>r});var c=a(7411),t=a(4597),n=a(8830);const r=async(e,s)=>{try{const a=await c.Z.post("".concat(n.Z.BACKEND_URL,"/api/auth/login"),{email:e,password:s}),{token:t}=a.data;if(!t)throw new Error("Token not found in response");return localStorage.setItem("token",t),sessionStorage.setItem("token",t),a.data}catch(a){throw console.error("Error signing in:",a),(0,t.sD)("Error signing in"),a}},o=async(e,s)=>{let a={fullname:e.fullname,email:e.email,password:e.password,gender:e.gender,phone:e.phone,address:e.address};try{const n="create"===s?await c.Z.post("/api/users/create",a):await c.Z.put("/api/users/update/".concat(e._id),a,{headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}},{fullname:e.fullname,gender:e.gender,phone:e.phone,address:e.address});(0,t.Vp)(n.data.message)}catch(n){(0,t.sD)(n.response.data.message)}},l=e=>{c.Z.post(n.Z.BACKEND_URL+"/api/resetpwd/send",{email:e.target.email.value}).then((e=>(0,t.Vp)("We've sent an email, please open your inbox."))).catch((e=>(0,t.sD)(e.response.data.message)))},i=async(e,s)=>(await c.Z.post(n.Z.BACKEND_URL+"/api/resetpwd",{newPassword:e.target.password.value,token:s})).data},9410:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var c=a(2791),t=a(9743),n=a(2677),r=a(717),o=a(3360),l=a(7689),i=a(1087),d=a(8619),m=a(8748),h=a(9993),p=a(4597),u=a(9434),x=a(9850),f=(a(2504),a(184));const N=()=>{const[e,s]=(0,c.useState)({email:"",password:""}),a=(0,u.I0)(),N=(0,l.s0)();return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("section",{className:"login-content",children:(0,f.jsxs)(t.Z,{className:"m-0 align-items-center bg-white vh-100",children:[(0,f.jsx)(n.Z,{md:"6",children:(0,f.jsx)(t.Z,{className:"justify-content-center",children:(0,f.jsx)(n.Z,{md:"10",children:(0,f.jsx)(d.Z,{className:"card-transparent shadow-none d-flex justify-content-center mb-0 auth-card",children:(0,f.jsxs)(d.Z.Body,{children:[(0,f.jsxs)(i.rU,{to:"/",className:"navbar-brand d-flex align-items-center mb-3",children:[(0,f.jsx)(h.Z,{}),(0,f.jsx)("h4",{className:"logo-title ms-3",children:"SeaSOS"})]}),(0,f.jsx)("h2",{className:"mb-2 text-center",children:"Sign In"}),(0,f.jsx)("p",{className:"text-center",children:"Login to stay connected."}),(0,f.jsxs)(r.Z,{onSubmit:async e=>{e.preventDefault();try{const s=await(0,m.zB)(e.target.email.value,e.target.password.value);localStorage.setItem("token",s.token),a((0,x.oJ)({isAuthenticated:!0,token:s.token})),N("/dashboard")}catch(c){console.error("Login failed",c),(0,p.sD)("Login failed, please try again")}s({email:"",password:""})},children:[(0,f.jsxs)(t.Z,{children:[(0,f.jsx)(n.Z,{lg:"12",children:(0,f.jsxs)(r.Z.Group,{className:"form-group",children:[(0,f.jsx)(r.Z.Label,{htmlFor:"email",className:"",children:"Email"}),(0,f.jsx)(r.Z.Control,{type:"email",id:"email",name:"email",defaultValue:e.email,placeholder:"Enter your email"})]})}),(0,f.jsx)(n.Z,{lg:"12",className:"",children:(0,f.jsxs)(r.Z.Group,{className:"form-group",children:[(0,f.jsx)(r.Z.Label,{htmlFor:"password",className:"",children:"Password"}),(0,f.jsx)(r.Z.Control,{type:"password",id:"password",name:"password",defaultValue:e.password,placeholder:"Enter your password"})]})}),(0,f.jsx)(n.Z,{lg:"12",className:"d-flex justify-content-between",children:(0,f.jsx)(i.rU,{className:"mb-3",to:"/auth/reset-password",children:"Forgot Password?"})})]}),(0,f.jsx)("div",{className:"d-flex justify-content-center",children:(0,f.jsx)(o.Z,{type:"submit",variant:"btn btn-primary",children:"Sign In"})})]})]})})})})}),(0,f.jsx)(n.Z,{md:"6",className:"d-md-block d-none bg-primary p-0 mt-n1 vh-100 overflow-hidden",children:(0,f.jsx)("div",{className:"gradient-top",children:(0,f.jsx)("div",{className:"box",children:(0,f.jsx)("div",{className:"c xl-circle",children:(0,f.jsx)("div",{className:"c lg-circle",children:(0,f.jsx)("div",{className:"c md-circle",children:(0,f.jsx)("div",{className:"c sm-circle",children:(0,f.jsx)("div",{className:"c xs-circle"})})})})})})})})]})})})}},2677:(e,s,a)=>{a.d(s,{Z:()=>p});var c=a(3063),t=a(5987),n=a(1694),r=a.n(n),o=a(2791),l=a(162),i=a(184);const d=["as","bsPrefix","className"],m=["className"];const h=o.forwardRef(((e,s)=>{const[a,{as:n="div",bsPrefix:o,spans:h}]=function(e){let{as:s,bsPrefix:a,className:n}=e,o=(0,t.Z)(e,d);a=(0,l.vE)(a,"col");const i=(0,l.pi)(),m=(0,l.zG)(),h=[],p=[];return i.forEach((e=>{const s=o[e];let c,t,n;delete o[e],"object"===typeof s&&null!=s?({span:c,offset:t,order:n}=s):c=s;const r=e!==m?"-".concat(e):"";c&&h.push(!0===c?"".concat(a).concat(r):"".concat(a).concat(r,"-").concat(c)),null!=n&&p.push("order".concat(r,"-").concat(n)),null!=t&&p.push("offset".concat(r,"-").concat(t))})),[(0,c.Z)((0,c.Z)({},o),{},{className:r()(n,...h,...p)}),{as:s,bsPrefix:a,spans:h}]}(e),{className:p}=a,u=(0,t.Z)(a,m);return(0,i.jsx)(n,(0,c.Z)((0,c.Z)({},u),{},{ref:s,className:r()(p,!h.length&&o)}))}));h.displayName="Col";const p=h},9743:(e,s,a)=>{a.d(s,{Z:()=>h});var c=a(3063),t=a(5987),n=a(1694),r=a.n(n),o=a(2791),l=a(162),i=a(184);const d=["bsPrefix","className","as"],m=o.forwardRef(((e,s)=>{let{bsPrefix:a,className:n,as:o="div"}=e,m=(0,t.Z)(e,d);const h=(0,l.vE)(a,"row"),p=(0,l.pi)(),u=(0,l.zG)(),x="".concat(h,"-cols"),f=[];return p.forEach((e=>{const s=m[e];let a;delete m[e],null!=s&&"object"===typeof s?({cols:a}=s):a=s;const c=e!==u?"-".concat(e):"";null!=a&&f.push("".concat(x).concat(c,"-").concat(a))})),(0,i.jsx)(o,(0,c.Z)((0,c.Z)({ref:s},m),{},{className:r()(n,h,...f)}))}));m.displayName="Row";const h=m}}]);
//# sourceMappingURL=293.3937ffac.chunk.js.map