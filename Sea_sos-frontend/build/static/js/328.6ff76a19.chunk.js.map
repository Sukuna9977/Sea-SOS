{"version":3,"file":"static/js/328.6ff76a19.chunk.js","mappings":"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","sources":["services/config.js","views/dashboard/app/enclosed-missions-history.js"],"sourcesContent":["const globalConfig = {\n  BACKEND_URL: process.env.REACT_APP_BACKEND_URL || \"http://localhost:3030\"\n};\n  export default globalConfig;\n  ","import React, { useEffect, useState } from 'react';\nimport { Row, Col, Table, Button, Modal, Card } from 'react-bootstrap';\nimport axios from 'axios';\nimport globalConfig from '../../../services/config';\nimport moment from 'moment'; // Add this line if you want to format the date\n\nconst EnclosedMissionsHistory = () => {\n  const [missions, setMissions] = useState([]);\n  const [showDetails, setShowDetails] = useState(false);\n  const [selectedMission, setSelectedMission] = useState(null);\n\n  const fetchEnclosedMissions = async () => {\n    try {\n      const response = await axios.get(`${globalConfig.BACKEND_URL}/api/urgences/find-all?cloture=true`);\n      setMissions(response.data);\n    } catch (error) {\n      console.error('Failed to fetch missions:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchEnclosedMissions();\n  }, []);\n\n  const handleShowDetails = (mission) => {\n    setSelectedMission(mission);\n    setShowDetails(true);\n  };\n\n  const handleCloseDetails = () => {\n    setShowDetails(false);\n    setSelectedMission(null);\n  };\n\n  return (\n    <div>\n      <Row>\n        <Col sm=\"12\">\n          <Card>\n            <Card.Header className=\"d-flex justify-content-between\">\n              <h4 className=\"card-title\">Enclosed Missions History</h4>\n            </Card.Header>\n            <Card.Body className=\"px-0\">\n              <Table striped bordered hover>\n                <thead>\n                  <tr>\n                    <th>Lng & Lat</th>\n                    <th>Type</th>\n                    <th>Level</th>\n                    <th>Status</th>\n                    <th>Enclosed by</th>\n                    <th>Signal Time</th>\n                    <th>Enclosure Time</th>\n                    <th>Details</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {missions.map((mission, idx) => (\n                    <tr key={idx}>\n                      <td>{mission.longitude}, {mission.latitude}</td>\n                      <td>{mission.type}</td>\n                      <td>{mission.niveau}</td>\n                      <td>{mission.status}</td>\n                      <td>{mission.police}</td>\n                      <td>{moment(mission.createdAt).format('YYYY-MM-DD HH:mm:ss')}</td>\n                      <td>{moment(mission.updatedAt).format('YYYY-MM-DD HH:mm:ss')}</td>\n                      <td>\n                        <Button variant=\"info\" onClick={() => handleShowDetails(mission)}>\n                          Details\n                        </Button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n\n      {selectedMission && (\n        <Modal show={showDetails} onHide={handleCloseDetails} centered>\n          <Modal.Header closeButton>\n            <Modal.Title>Mission Details</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <p><strong>Longitude:</strong> {selectedMission.longitude}</p>\n            <p><strong>Latitude:</strong> {selectedMission.latitude}</p>\n            <p><strong>Type:</strong> {selectedMission.type}</p>\n            <p><strong>Level:</strong> {selectedMission.niveau}</p>\n            <p><strong>Status:</strong> {selectedMission.status}</p>\n            <p><strong>Number of People:</strong> {selectedMission.nbrpersonne}</p>\n            <p><strong>Starting Point:</strong> {selectedMission.depart}</p>\n            <p><strong>Communication:</strong> {selectedMission.communication}</p>\n            <p><strong>Police:</strong> {selectedMission.police}</p>\n            <p><strong>Report:</strong> {selectedMission.other}</p>\n            <p><strong>Creation Time:</strong> {moment(selectedMission.createdAt).format('YYYY-MM-DD HH:mm:ss')}</p>\n            <p><strong>Enclosure Time:</strong> {moment(selectedMission.updatedAt).format('YYYY-MM-DD HH:mm:ss')}</p>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={handleCloseDetails}>\n              Close\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      )}\n    </div>\n  );\n};\n\nexport default EnclosedMissionsHistory;\n"],"names":["globalConfig","BACKEND_URL","process","REACT_APP_BACKEND_URL","_useState","useState","_useState2","_slicedToArray","missions","setMissions","_useState3","_useState4","showDetails","setShowDetails","_useState5","_useState6","selectedMission","setSelectedMission","fetchEnclosedMissions","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","axios","get","concat","sent","data","t0","console","error","stop","apply","arguments","useEffect","handleCloseDetails","_jsxs","children","_jsx","Row","Col","sm","Card","Header","className","Body","Table","striped","bordered","hover","map","mission","idx","longitude","latitude","type","niveau","status","police","moment","createdAt","format","updatedAt","Button","variant","onClick","handleShowDetails","Modal","show","onHide","centered","closeButton","Title","nbrpersonne","depart","communication","other","Footer"],"sourceRoot":""}