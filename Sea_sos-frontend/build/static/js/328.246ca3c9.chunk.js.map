{"version":3,"file":"static/js/328.246ca3c9.chunk.js","mappings":"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","sources":["services/config.js","views/dashboard/app/enclosed-missions-history.js"],"sourcesContent":["const globalConfig = {\n  BACKEND_URL: process.env.REACT_APP_BACKEND_URL || \"http://localhost:3030\"\n};\n  export default globalConfig;\n  ","import React, { useEffect, useState } from 'react';\nimport { Row, Col, Table, Button, Modal, Card } from 'react-bootstrap';\nimport axios from 'axios';\nimport globalConfig from '../../../services/config';\nimport moment from 'moment'; // Add this line if you want to format the date\n\nconst EnclosedMissionsHistory = () => {\n  const [missions, setMissions] = useState([]);\n  const [showDetails, setShowDetails] = useState(false);\n  const [selectedMission, setSelectedMission] = useState(null);\n\n  const fetchEnclosedMissions = async () => {\n    try {\n      const response = await axios.get(`${globalConfig.BACKEND_URL}/api/urgences/find-all?cloture=true`);\n      setMissions(response.data);\n    } catch (error) {\n      console.error('Failed to fetch missions:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchEnclosedMissions();\n  }, []);\n\n  const handleShowDetails = (mission) => {\n    setSelectedMission(mission);\n    setShowDetails(true);\n  };\n\n  const handleCloseDetails = () => {\n    setShowDetails(false);\n    setSelectedMission(null);\n  };\n\n  return (\n    <div>\n      <Row>\n        <Col sm=\"12\">\n          <Card>\n            <Card.Header className=\"d-flex justify-content-between\">\n              <h4 className=\"card-title\">Enclosed Missions History</h4>\n            </Card.Header>\n            <Card.Body className=\"px-0\">\n              <Table striped bordered hover>\n                <thead>\n                  <tr>\n                    <th>Lng & Lat</th>\n                    <th>Type</th>\n                    <th>Level</th>\n                    <th>Status</th>\n                    <th>Enclosed by</th>\n                    <th>Signal Time</th>\n                    <th>Enclosure Time</th>\n                    <th>Details</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {missions.map((mission, idx) => (\n                    <tr key={idx}>\n                      <td>{mission.longitude}, {mission.latitude}</td>\n                      <td>{mission.type}</td>\n                      <td>{mission.niveau}</td>\n                      <td>{mission.status}</td>\n                      <td>{mission.police}</td>\n                      <td>{moment(mission.createdAt).format('YYYY-MM-DD HH:mm:ss')}</td>\n                      <td>{moment(mission.updatedAt).format('YYYY-MM-DD HH:mm:ss')}</td>\n                      <td>\n                        <Button variant=\"info\" onClick={() => handleShowDetails(mission)}>\n                          Details\n                        </Button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n            </Card.Body>\n          </Card>\n        </Col>\n      </Row>\n\n      {selectedMission && (\n        <Modal show={showDetails} onHide={handleCloseDetails} centered>\n          <Modal.Header closeButton>\n            <Modal.Title>Mission Details</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <p><strong>Longitude:</strong> {selectedMission.longitude}</p>\n            <p><strong>Latitude:</strong> {selectedMission.latitude}</p>\n            <p><strong>Type:</strong> {selectedMission.type}</p>\n            <p><strong>Level:</strong> {selectedMission.niveau}</p>\n            <p><strong>Status:</strong> {selectedMission.status}</p>\n            <p><strong>Number of People:</strong> {selectedMission.nbrpersonne}</p>\n            <p><strong>Starting Point:</strong> {selectedMission.depart}</p>\n            <p><strong>Communication:</strong> {selectedMission.communication}</p>\n            <p><strong>Police:</strong> {selectedMission.police}</p>\n            <p><strong>Report:</strong> {selectedMission.other}</p>\n            <p><strong>Creation Time:</strong> {moment(selectedMission.createdAt).format('YYYY-MM-DD HH:mm:ss')}</p>\n            <p><strong>Enclosure Time:</strong> {moment(selectedMission.updatedAt).format('YYYY-MM-DD HH:mm:ss')}</p>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={handleCloseDetails}>\n              Close\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      )}\n    </div>\n  );\n};\n\nexport default EnclosedMissionsHistory;\n"],"names":["BACKEND_URL","process","REACT_APP_BACKEND_URL","EnclosedMissionsHistory","missions","setMissions","useState","showDetails","setShowDetails","selectedMission","setSelectedMission","useEffect","async","response","axios","get","concat","globalConfig","data","error","console","fetchEnclosedMissions","handleCloseDetails","_jsxs","children","_jsx","Row","Col","sm","Card","Header","className","Body","Table","striped","bordered","hover","map","mission","idx","longitude","latitude","type","niveau","status","police","moment","createdAt","format","updatedAt","Button","variant","onClick","handleShowDetails","Modal","show","onHide","centered","closeButton","Title","nbrpersonne","depart","communication","other","Footer"],"sourceRoot":""}